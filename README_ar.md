🚗 نظام تتبع المركبات وكشف الانسداد
هذا المشروع يستخدم نموذج YOLOv12x لتتبع المركبات في مقطع فيديو، وعدّها، وتحديد المركبات التي تسير في الاتجاه الخاطئ، واكتشاف حالات انسداد الطريق.

🌟 الميزات الرئيسية
🚗 تتبع وعد المركبات: يتتبع المركبات (سيارات، دراجات نارية، حافلات، شاحنات) ويعدها أثناء عبورها خطًا افتراضيًا.

🛣️ تقسيم المسارات: يقسم الشاشة إلى مسارين (أيسر وأيمن) ويقوم بالعد لكل مسار على حدة.

🧠 التعلم التلقائي لاتجاه الحركة: يتعلم تلقائيًا الاتجاه السائد للحركة في كل مسار.

↩️ كشف الحركة في الاتجاه الخاطئ: يحدد المركبات التي تتحرك عكس الاتجاه السائد في مسارها.

🚧 كشف انسداد الطريق: يكتشف ما إذا كان هناك انسداد في الطريق بناءً على توقف المركبات في اتجاهات متعاكسة.

💾 حفظ النتائج: يحفظ الفيديو الناتج مع كل التحليلات مرسومة عليه، بالإضافة إلى حفظ آخر إطار من الفيديو.

⚙️ المتطلبات
لتشغيل هذا المشروع، ستحتاج إلى ما يلي:

1. المكتبات البرمجية (Python Libraries)
يجب أن يكون لديك Python مثبتًا على جهازك. يمكنك تثبيت المكتبات اللازمة باستخدام pip:

pip install ultralytics
pip install opencv-python
pip install numpy

2. برامج النظام (System Software)
💿 ffmpeg: ضروري لمعالجة الفيديو بواسطة OpenCV. يجب تحميله والتأكد من أن ملفاته (ffmpeg.exe, ffplay.exe, ffprobe.exe) موجودة في مسار النظام (System's PATH).

3. ملفات المشروع (Project Files)
تأكد من وجود الملفات التالية في مجلد المشروع الرئيسي:

🐍 vehicle_tracker.py: السكربت الرئيسي للمشروع (أو traffic.py حسب تسميتك له).

🤖 yolo12x.pt: ملف نموذج YOLO المُدرب مسبقًا.

🎬 vid.mp4: ملف الفيديو المراد تحليله (يدعم صيغ مثل MP4, M4V).

🚀 كيفية الاستخدام
تنزيل نموذج YOLO: يقوم الكود باستخدام yolov12x.pt كنموذج قياسي. إذا كنت ستستخدم نموذجًا مخصصًا، تأكد من وضعه في نفس مجلد المشروع وتحديث اسمه داخل الكود.

تجهيز الفيديو:
ضع ملف الفيديو الذي تريد تحليله في نفس المجلد.
افتح ملف vehicle_tracker.py وقم بتغيير قيمة المتغير video_path إلى اسم ملف الفيديو الخاص بك.

video_path = "your_video_file.mp4"

تشغيل السكربت:
قم بتشغيل السكربت من خلال موجه الأوامر (Terminal):

python vehicle_tracker.py

📊 المخرجات
🎥 فيديو مُعالج: سيتم إنشاء ملف فيديو جديد باسم video_output_with_blockage_status.mp4.

🖼️ صور لآخر إطار: سيتم حفظ صورتين:
last_frame.jpg: آخر إطار أصلي من الفيديو.
last_frame_with_analysis.jpg: آخر إطار مع عرض التحليلات عليه.